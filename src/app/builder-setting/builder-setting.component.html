<ng-template>
    <!-- image selection box -->
    <div *ngIf="_general.imgSelection" id="kb-img-group">
        <div class="kb-img-inner-group kb-scroll" [class.dragBox]="imgBoxAnime.open" [class.dragBoxClose]="imgBoxAnime.close">
            <div class="kb-head">
                <div *ngIf="!_image.showEditImgContainer else editImgHead">{{_image.imgMatTabIndex == 0 ? 'Upload' : 'Choose'}} Image</div>
                <ng-template #editImgHead><div><button mat-button class="side-arrow" (click)="_image.showEditImgContainer=false" matTooltip="Back To Gallery"
                    matTooltipPosition="above"><i
                        class="fa fa-arrow-left"></i></button>Edit Image</div></ng-template>
                <span (click)="closeImgSelBox()" class="kb-cut"><i class="fa fa-times"></i></span>
            </div>
            <mat-divider></mat-divider>
            <mat-tab-group *ngIf="!_image.showEditImgContainer else editImgContainer" [(selectedIndex)]="_image.imgMatTabIndex" (selectedTabChange)="_image.extImgLinkInp.reset()">
                <mat-tab label="Upload">
                    <div class="kb-img-btn-group">
                        <div *ngIf="!_image.loading else loading">
                            <div>
                            <input #imgInp class="kb-d-none" name="image" type="file" (change)="_image.fileChangeEvent($event, true)">
                            <button mat-raised-button (click)="imgInp.click();" class="kb-btn kb-btn-primary">
                                <span>Upload a new image</span></button><br><br>
                            <span>File suported png, jpg, jpeg only</span>    
                            </div>
                            <div class="kb-or-divider">OR</div>
                            <div>
                            <mat-form-field appearance="fill">
                                <mat-label>Paste Image Link</mat-label>
                                <input matInput name="imgLink" [formControl]="_image.extImgLinkInp" placeholder="Paste your image link here" type="text"
                                    [(ngModel)]="_image.extImgLink.filename" required/>
                            </mat-form-field>  
                            <div *ngIf="_image.extImgLinkInp.touched && _image.extImgLinkInp.invalid && _image.extImgLinkInp.dirty" class="kb-alert kb-alert-danger">
                                <mat-error *ngIf="_image.extImgLinkInp.errors?.['required']">
                                    Please paste a image link
                                </mat-error>
                                <mat-error *ngIf="_image.extImgLinkInp.errors?.['pattern']">
                                    Please paste a valid image link
                                </mat-error>
                            </div>
                            <button mat-raised-button [disabled]="_image.extImgLinkInp.invalid" (click)="_image.loading = true; _image.saveImageOnDb(_image.extImgLink)" class="kb-btn kb-btn-primary">
                                <span>Add as external path</span></button> 
                            </div>                         
                        </div>
                        <ng-template #loading><mat-spinner></mat-spinner></ng-template>  
                    </div>  
                </mat-tab>
                <mat-tab label="Choose">
                    <div class="kb-img-thumbnail-group">
                        <ul *ngIf="_image.galleryImg.length != 0 else noImg" class="kb-img-list">
                            <li *ngFor="let img of _image.galleryImg"><span [class.showImg]="img.loaded">
                                    <img [src]="!img.ext_link ? _image.uploadImgPath+img.path : img.path"
                                        (click)="_style.addImage(img); closeImgSelBox()" (load)="img.loaded = true"></span>
                                <div class="imgSettingIcons">
                                    <i (click)="_image.editImage(img)" class="far fa-edit" matTooltip="Image Setting" matTooltipPosition="above"></i>
                                    <i  (click)="_image.deleteImage(img)" class="far fa-trash-alt" matTooltip="Delete Image" matTooltipPosition="above"></i>
                                </div>
                            </li>
                        </ul>
                        <ng-template #noImg>
                            <div class="kb-img-thumbnail-group" style="height: 500px;">Upload the first image</div>
                        </ng-template>
                    </div>
                </mat-tab>
            </mat-tab-group>
            <ng-template #editImgContainer>
                <div class="kb-imgUploadPreviewGroup" *ngIf="!_image.loading else loading">
                    <div class="kb-imgUploadPreview">
                        <div *ngIf="!_image.selectedImg.ext_link else showImgOnly">
                            <div class="kb-img-inp-group">
                                <button mat-button (click)="_image.rotateLeft()" matTooltip="Rotate Left"
                                    matTooltipPosition="above"><i class="fa fa-undo"></i></button>
                                <button mat-button (click)="_image.rotateRight()" matTooltip="Rotate Right"
                                    matTooltipPosition="above"><i class="fa fa-redo"></i></button>
                                <button mat-button (click)="_image.flipHorizontal()" matTooltip="Flip horizontal"
                                    matTooltipPosition="above"><i class="fa fa-undo"></i></button>
                                <button mat-button (click)="_image.flipVertical()" matTooltip="Flip vertical"
                                    matTooltipPosition="above"><i class="fa fa-redo"></i></button>
                                <button mat-button (click)="_image.zoomOut()" matTooltip="Zoom Out"
                                    matTooltipPosition="above"><i class="fa fa-search-minus"></i></button>
                                <button mat-button (click)="_image.zoomIn()" matTooltip="Zoom In"
                                    matTooltipPosition="above"><i class="fa fa-search-plus"></i></button>
                                <mat-slide-toggle [(ngModel)]="_image.aspRatio.toggle"
                                    [disabled]="!_image.aspRatio.w || !_image.aspRatio.h">Aspect Ratio
                                </mat-slide-toggle>
                                <span>
                                    <input [(ngModel)]="_image.aspRatio.w" matTooltip="Use Up & Down Key" matTooltipPosition="above" placeholder="auto" type="number" min="1"
                                        (input)="_image.checkAspVal(_image.aspRatio.w)">/
                                    <input [(ngModel)]="_image.aspRatio.h" matTooltip="Use Up & Down Key" matTooltipPosition="above" placeholder="auto" type="number" min="1"
                                        (input)="_image.checkAspVal(_image.aspRatio.h)">
                                </span>
                                <button mat-button *ngIf="_image.aspRatio.toggle" [matTooltip]="!_image.containWithinAspectRatio ? 'Contain Within' : 'Fill'" matTooltipPosition="above"
                                (click)="_image.containWithinAspectRatio = !_image.containWithinAspectRatio;">
                                    <i *ngIf="!_image.containWithinAspectRatio else fill" class="fa fa-expand"></i>
                                    <ng-template #fill><i class="fa fa-compress"></i></ng-template>
                                </button>
                                <button mat-button (click)="_image.resetImage()" matTooltip="Reset"
                                matTooltipPosition="above"><i class="fa fa-sync"></i></button>
                            </div>
                            <image-cropper [imageChangedEvent]="_image.imageChangedEvent"
                                [imageBase64]="_image.imageBase64String"
                                [maintainAspectRatio]="_image.aspRatio.toggle"
                                [containWithinAspectRatio]="_image.containWithinAspectRatio"
                                [aspectRatio]="_image.aspRatio.w / _image.aspRatio.h"
                                [onlyScaleDown]="true" [roundCropper]="false"
                                [canvasRotation]="_image.canvasRotation" [transform]="_image.transform"
                                [alignImage]="'left'" [style.display]="_image.showCropper ? null : 'none'" format="png"
                                (imageCropped)="_image.imageCropped($event)" (imageLoaded)="_image.imageLoaded()"
                                (cropperReady)="_image.cropperReady($event)" (loadImageFailed)="_image.loadImageFailed()">
                            </image-cropper>
                        </div>
                        <ng-template #showImgOnly>
                            <img [src]="_image.croppedImage" height="300" width="auto" style="
                            margin: auto;
                            display: flex;
                            margin-top: 20px;
                        ">
                        </ng-template>
                    </div>
                    <div class="mat-form">
                        <img [src]="_image.croppedImage">
                        <mat-form-field appearance="fill">
                            <mat-label for="imgName">Title</mat-label>
                            <input matInput id="imgName" placeholder="Give your image a title" type="text"
                                [(ngModel)]="_image.selectedImg.title" />
                        </mat-form-field>
                        <mat-form-field appearance="fill">
                            <mat-label for="imgAlt">Alt</mat-label>
                            <input matInput id="imgAlt" placeholder="Give your image an alt" type="text"
                                [(ngModel)]="_image.selectedImg.alt" />
                        </mat-form-field>
                        <mat-form-field appearance="fill">
                            <mat-label for="imgDiscription">Discription</mat-label>
                            <textarea matInput id="imgDiscription" placeholder="Give your image a discription"
                                type="text" [(ngModel)]="_image.selectedImg.discription"></textarea>
                        </mat-form-field>
                        <div>
                            <button mat-button (click)="_image.saveasnew = true; _image.onUpload()" class="kb-btn-secondry"
                            matTooltipPosition="above" style="margin-right: 10px">Copy Changes</button>
                            <button mat-button (click)="_image.saveasnew = false; _image.onUpload()" class="kb-btn-primary"
                            matTooltipPosition="above">Save Changes</button>
                        </div>
                    </div>
                </div>
                <ng-template #loading>
                    <div class="kb-img-thumbnail-group" style="height: 500px;"><mat-spinner></mat-spinner></div>
                </ng-template>  
            </ng-template>
        </div>
        <div class="offcanvas-overlay" (click)="closeImgSelBox()"></div>
    </div>
    <!-- image selection box -->
    <div id="kb-selection-ask" class="kb-outer-selection-container kb-scroll" [class.dragBox]="dragBoxAnime.open" [class.dragBoxClose]="dragBoxAnime.close"
        [style.width]="_general.expand ? _general.screenWidth - 400+'px' : ''" cdkDragBoundary=".cdk-overlay-container"
        cdkDragRootElement=".cdk-overlay-pane" cdkDrag>
        <span *ngIf="_general.blockSelection" (click)="overlayRefDetach(false)" class="kb-selection-top-actions"><i
                class="fa fa-times"></i></span>
        <div [ngSwitch]="_general.blockSelection">
            <!-- row selection -->
            <div *ngSwitchCase="'row'" id="kb-row-selection" class="kb-inner-selection-container">
                <div class="kb-ask-head" cdkDragHandle>Column Structure</div>
                <ul class="kb-row-list">
                    <li *ngFor="let rt of _row.rowTypes"
                        (click)="_row.addRow('kb-'+rt.appendCls+'-block', rt.nofcolumn)"
                        [class]="(_row.selectedRow.rowSize == 'kb-'+rt.appendCls+'-block' ? 'kb-row-type-active ' : '') + 'row-'+rt.cls"
                        class="kb-row-type">
                        <span *ngFor="let c of rt.nofcolumn | keyvalue" class="block">
                            <span></span>
                        </span>
                    </li>
                </ul>
            </div>
            <!-- row selection -->
            <!-- element selection -->
            <div *ngSwitchCase="'element'" id="kb-element-group">
                <div class="kb-ask-head" cdkDragHandle>Element Selection</div>
                <ul class="kb-element-list">
                    <li *ngFor="let element of _element.elementList" :key="element.content.name"
                        (click)="_element.addElement(element.content)" class="kb-element-box"><span><i
                                [class]="element.iconCls"></i>
                            <div>{{element.content.name | titlecase}}</div>
                        </span></li>
                </ul>
            </div>
            <!-- element selection -->
            <!-- block setting -->
            <div *ngSwitchDefault class="kb-inner-selection-container">
                <span (click)="_general.expand = !_general.expand" class="kb-selection-top-actions"
                    [matTooltip]="!_general.expand ? 'Expand' : 'Shrink'" matTooltipPosition="right"><i class="fas"
                        [class]="!_general.expand ? 'fa-expand-arrows-alt' : 'fas fa-compress-arrows-alt'"></i></span>
                <div class="kb-ask-head" cdkDragHandle>
                    <div *ngIf="_general.selectedBlock.type == 'column'" class="side-arrow-group" (mouseleave)="_general.sidefloatbtnopen(false)">
                        <span class="side-floating-btn-group" [class.sidefloatOpen]="_general.sideFloatBtnAnim.open" [class.sidefloatClose]="_general.sideFloatBtnAnim.close"  *ngIf="_general.showBackToRowOption">
                            <button mat-button (click)="moveBackToRow(false)" class="side-floating-btn" [matTooltip]="'Back To Row'" matTooltipPosition="right"><i
                                class="fa fa-arrow-left"></i></button>  
                            <button mat-button (click)="moveBackToRow(true)" class="side-floating-btn" [matTooltip]="'Save Column & Back To Row Setting'" matTooltipPosition="right"><i
                                class="far fa-save"></i></button>   
                        </span>
                        <button mat-button
                            class="side-arrow" (mouseenter)="_general.sidefloatbtnopen(true)"><i
                                class="fa fa-arrow-left"></i></button>
                    </div>
                        {{_general.selectedBlock.type != 'element' ? _general.selectedBlock.type+' Setting' : _general.selectedBlock.content.name+' Styling'}}
                </div>
                <mat-tab-group class="kb-tabs-component" (animationDone)="_general.detectTabChange()" (selectedTabChange)="_general.selectTabChange($event)">
                    <mat-tab label="Column" *ngIf="_general.selectedBlock.type == 'row'">
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Structure</div>
                            <div class="kb-cs-prev kb-row">
                                <div *ngFor="let column of _general.selectedBlock.columnArr, index as index"
                                    [class]="_general.selectedBlock.rowSize">
                                </div>
                            </div>
                            <div class="kb-cs-contain">
                                <ul class="kb-drag-container" [sortablejs]="_general.selectedBlock.columnArr"
                                    [sortablejsOptions]="builderColumnOptions">
                                    <li *ngFor="let column of _general.selectedBlock.columnArr, index as index"
                                    (mouseleave)="column.chngName = false" class="kb-cs">
                                        <span *ngIf="_general.selectedBlock.columnArr.length > 1"
                                            class="kb-setting-icon kb-handle-column">
                                            <i class="fas fa-arrows-alt-v"></i>
                                        </span>
                                        <span class="kb-column-name">
                                            <span *ngIf="!column.chngName else chngInp" matTooltip="Click To Rename"
                                                matTooltipPosition="above" (mouseover)="column.chngName = !column.chngName"
                                                class="kb-chngName">{{column.name ? column.name : 'Column'}}</span>
                                            <ng-template #chngInp>
                                                <span>
                                                    <input type="text" placeholder="Column Name"
                                                        [(ngModel)]="column.name"
                                                        (keydown.enter)="column.chngName = !column.chngName"
                                                        class="kb-chngname-inp">
                                                </span>
                                            </ng-template>
                                        </span>
                                        <span class="kb-setting-icon">
                                            <i *ngIf="_general.selectedBlock.columnArr.length < 6"
                                                (click)="_column.addColumn(_general.selectedBlock.rowSize,index)"
                                                matTooltip="Add New Column" matTooltipPosition="above"
                                                class="fa fa-plus"></i>
                                            <i (click)="_general.selectedBlock = column; _style.blockSetting(column);"
                                                matTooltip="Column Setting" matTooltipPosition="above"
                                                class="far fa-edit"></i>
                                            <!-- <svg-icon [src]="_image.svgPath+'Image.svg'" [stretch]="true" [svgStyle]="{ 'width.px':50 }"></svg-icon>                                           -->
                                            <i (click)="_style.updateStyle(); _general.selectedBlock = column; _style.blockSetting(column);" class="far fa-save" matTooltip="Save Row And Edit Column" matTooltipPosition="above"></i>
                                            <i *ngIf="_general.selectedBlock.columnArr.length < 6"
                                                (click)="_column.duplicateColumn(column,index)"
                                                matTooltip="Duplicate Column" matTooltipPosition="above"
                                                class="far fa-copy"></i>
                                            <i *ngIf="_general.selectedBlock.columnArr.length > 1"
                                                (click)="_column.deleteColumn(_general.selectedBlock.columnArr,index)"
                                                matTooltip="Delete Column" matTooltipPosition="above"
                                                class="far fa-trash-alt"></i>
                                        </span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div *ngIf="_general.selectedBlock.columnArr.length > 1" class="kb-inner-tab-component">
                            <div class="kb-tab-head">Spacing
                                <span matTooltip="Auto" matTooltipPosition="above"
                                    (click)="_style.iconMotion($event.target); _style.columnGap = 0"
                                    [class]="_style.columnGap != 0 ? 'active' : ''" class="kb-reverse-icon"><i
                                        class="fa fa-sync"></i></span>
                                <strong style="margin-left: auto;">{{_style.columnGap != 0 ? _style.columnGap+'%' : 'Auto'}}</strong>
                            </div>
                            <div class="kb-tab-content">
                                <div class="kb-rangeInp">
                                    <mat-slider thumbLabel [(ngModel)]="_style.columnGap"
                                        [displayWith]="_style.formatLabel" tickInterval="0" step="1" min="0"
                                        max="100" class="slider" aria-label="units">
                                    </mat-slider>
                                </div>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab label="Content" *ngIf="_general.selectedBlock.type == 'element'">
                        <!-- text -->
                        <div *ngIf="_general.selectedBlock.content.name == 'text' || _general.selectedBlock.content.name == 'heading'">
                            <div class="kb-inner-tab-component">
                                <mat-button-toggle-group name="contentStyle" [(ngModel)]="_general.showEditor"
                                    aria-label="Text Styling">
                                    <mat-button-toggle [value]="false"><i class="fa fa-pen"></i>Styling</mat-button-toggle>
                                    <mat-button-toggle [value]="true"><i class="fas fa-spell-check"></i>Editor</mat-button-toggle>
                                </mat-button-toggle-group>
                            </div>
                            <div *ngIf="!_general.showEditor">
                                <mat-accordion>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 0" (opened)="_general.setExpPanelStep(0)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Font Size
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-text-height"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <div class="kb-rangeInp">
                                                <mat-slider #matFontSlider thumbLabel [(ngModel)]="_style.font_sizeRange.value"
                                                    [displayWith]="_style.formatLabel" tickInterval="0"
                                                    (ngModelChange)="_style.font_size.value = matFontSlider.value+_style.font_sizeRange.type"
                                                    step="1" min="0" [max]="_style.font_sizeRange.max" class="slider"
                                                    aria-label="units"></mat-slider>
                                                <span><input #matFontInp [(ngModel)]="_style.font_size.value"
                                                        (blur)="_style.fontSizeChange(matFontInp.value)"
                                                        (keydown)="matFontInp.value = _style.operateNumVal($event.key, matFontInp.value); $event.key == 'ArrowUp' || $event.key == 'ArrowDown' ? _style.fontSizeChange(matFontInp.value) : ''"
                                                        type="text" name="font_size"></span>
                                            </div>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 1" (opened)="_general.setExpPanelStep(1)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Font Family
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-font"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <mat-select [(ngModel)]="_style.font_family">
                                                <mat-option *ngFor="let fft of _style.font_family_types" [value]="fft" [style.fontFamily]="fft">{{fft |
                                                    titlecase}}</mat-option>
                                            </mat-select>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 2" (opened)="_general.setExpPanelStep(2)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Font Weight
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-bold"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <mat-select [(ngModel)]="_style.font_weight" [compareWith]="_style.compareOptValue">
                                                <mat-option *ngFor="let fwt of _style.font_weight_types" [value]="fwt" [style.fontWeight]="fwt.value">{{fwt.name |
                                                    titlecase}}</mat-option>
                                            </mat-select>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 3" (opened)="_general.setExpPanelStep(3)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Font Style
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-italic"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <mat-select [(ngModel)]="_style.font_style">
                                                <mat-option *ngFor="let fst of _style.font_style_types" [value]="fst" [style.fontStyle]="fst">{{fst |
                                                    titlecase}}</mat-option>
                                            </mat-select>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 4" (opened)="_general.setExpPanelStep(4)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Text Color
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-tint"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <color-material [(ngModel)]="_style.text_color" [color]="_style.text_color">
                                            </color-material>
                                            <ngx-colors ngx-colors-trigger matTooltip="Pick Color" matTooltipPosition="above"
                                            colorsAnimation="popup" [hideTextInput]="true" [(ngModel)]="_style.text_color">
                                            </ngx-colors>
                                            <color-circle [(ngModel)]="_style.text_color" [color]="_style.text_color">
                                            </color-circle>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 5" (opened)="_general.setExpPanelStep(5)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Text Alignment
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-arrows-alt-h"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <div class="kb-align-btn-group">
                                                <span (click)="_style.text_align = 'left'" [class]="_style.text_align == 'left' ? 'kb-active-brd' : ''"
                                                    class="kb-align-btn" matTooltip="Left" matTooltipPosition="above"><i class="fas fa-align-left"></i></span>
                                                <span (click)="_style.text_align = 'center'" [class]="_style.text_align == 'center' ? 'kb-active-brd' : ''"
                                                    class="kb-align-btn" matTooltip="Center" matTooltipPosition="above"><i class="fas fa-align-center"></i></span>
                                                <span (click)="_style.text_align = 'right'" [class]="_style.text_align == 'right' ? 'kb-active-brd' : ''"
                                                    class="kb-align-btn" matTooltip="Right" matTooltipPosition="above"><i class="fas fa-align-right"></i></span>
                                                <span (click)="_style.text_align = 'justify'" [class]="_style.text_align == 'justify' ? 'kb-active-brd' : ''"
                                                    class="kb-align-btn" matTooltip="Justify" matTooltipPosition="above"><i class="fas fa-align-justify"></i></span>
                                            </div>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 6" (opened)="_general.setExpPanelStep(6)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Text Transform
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-font"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <mat-select [(ngModel)]="_style.text_transform">
                                                <mat-option *ngFor="let ttt of _style.text_transform_types" [value]="ttt" [style.textTransform]="ttt">{{ttt |
                                                    titlecase}}</mat-option>
                                            </mat-select>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 7" (opened)="_general.setExpPanelStep(7)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Line Height
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-text-height"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <div class="kb-rangeInp">
                                                <mat-slider #matLineHeightSlider thumbLabel [(ngModel)]="_style.line_heightRange.value"
                                                    [displayWith]="_style.formatLabel" tickInterval="0"
                                                    (ngModelChange)="_style.line_height.value = matLineHeightSlider.value+_style.line_heightRange.type"
                                                    step="1" min="0" [max]="_style.line_heightRange.max" class="slider"
                                                    aria-label="units"></mat-slider>
                                                <span><input #matLineHeightInp [(ngModel)]="_style.line_height.value"
                                                        (blur)="_style.lineHeightChange(matLineHeightInp.value)"
                                                        (keydown)="matLineHeightInp.value = _style.operateNumVal($event.key, matLineHeightInp.value); $event.key == 'ArrowUp' || $event.key == 'ArrowDown' ? _style.lineHeightChange(matLineHeightInp.value) : ''"
                                                        type="text" name="line_height"></span>
                                            </div>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                    <mat-expansion-panel [expanded]="_general.expPanelStep === 8" (opened)="_general.setExpPanelStep(8)" hideToggle>
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                            Letter Spacing
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                <i class="fas fa-text-height"></i>
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="kb-tab-content">
                                            <div class="kb-rangeInp">
                                                <mat-slider #matLetterSpacingSlider thumbLabel [(ngModel)]="_style.letter_spacingRange.value"
                                                    [displayWith]="_style.formatLabel" tickInterval="0"
                                                    (ngModelChange)="_style.letter_spacing.value = matLetterSpacingSlider.value+_style.letter_spacingRange.type"
                                                    step="1" [min]="_style.letter_spacingRange.min" [max]="_style.letter_spacingRange.max" class="slider"
                                                    aria-label="units"></mat-slider>
                                                <span><input #matLetterSpacingInp [(ngModel)]="_style.letter_spacing.value"
                                                        (blur)="_style.letterSpacingChange(matLetterSpacingInp.value)"
                                                        (keydown)="matLetterSpacingInp.value = _style.operateNumVal($event.key, matLetterSpacingInp.value); $event.key == 'ArrowUp' || $event.key == 'ArrowDown' ? _style.letterSpacingChange(matLetterSpacingInp.value) : ''"
                                                        type="text" name="letter_spacing"></span>
                                            </div>
                                        </div>
                                        <mat-action-row>
                                            <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                            <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                        </mat-action-row>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                            <div *ngIf="_general.showEditor">
                                <div class="kb-inner-tab-component">
                                    <editor [(ngModel)]="_general.selectedBlock.content.html" [init]="_general.config">
                                    </editor>
                                </div>
                            </div>
                        </div>
                        <!-- text -->
                        <!-- image -->
                        <div *ngIf="_general.selectedBlock.content.name == 'image'">
                            <div class="kb-inner-tab-component">
                                <div class="kb-tab-head">Choose Image</div>
                                <div class="kb-tab-content">
                                    <div (click)="_general.imgSelection = !_general.imgSelection"
                                        [class]="!_general.selectedBlock.content.src ? 'kb-noImgSel' : ''"
                                        class="kb-dummy-bg">
                                        <img *ngIf="_general.selectedBlock.content.src else imgno"
                                            [src]="_general.selectedBlock.content.src" width="auto">
                                        <ng-template #imgno><span class="kb-ispan-add" matTooltip="Add Image"
                                                matTooltipPosition="above"><i class="fa fa-plus"></i></span>
                                        </ng-template>
                                    </div>
                                </div>
                            </div>
                            <div class="kb-inner-tab-component">
                                <div class="kb-tab-head">Object Fit</div>
                                <div class="kb-tab-content">
                                    <mat-select [(ngModel)]="_style.image_objectfit">
                                        <mat-option *ngFor="let imgof of _style.image_objectfit_types"
                                            [value]="imgof">{{imgof |
                                            titlecase}}</mat-option>
                                    </mat-select>
                                </div>
                            </div>
                        </div>
                        <!-- image -->
                        <!-- button -->
                        <div *ngIf="_general.selectedBlock.content.name == 'button'">
                            <mat-accordion>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 0" (opened)="_general.setExpPanelStep(0)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Text
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-font"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-head">Main Text</div>
                                    <div class="kb-tab-content">
                                        <input type="text" [(ngModel)]="_style.button_text" placeholder="Main text">
                                    </div>
                                    <div class="kb-tab-head">Sub Text</div>
                                    <div class="kb-tab-content">
                                        <input type="text" [(ngModel)]="_style.button_subtext" placeholder="Sub text">
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 1" (opened)="_general.setExpPanelStep(1)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Button Link
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-link"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <input type="text" [(ngModel)]="_style.button_link">
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 2" (opened)="_general.setExpPanelStep(2)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Font Size
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-text-height"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-head">Main Text</div>
                                    <div class="kb-tab-content">
                                        <div class="kb-rangeInp">
                                            <mat-slider #matFontSlider thumbLabel [(ngModel)]="_style.font_sizeRange.value"
                                                [displayWith]="_style.formatLabel" tickInterval="0"
                                                (ngModelChange)="_style.font_size.value = matFontSlider.value+_style.font_sizeRange.type"
                                                step="1" min="0" [max]="_style.font_sizeRange.max" class="slider"
                                                aria-label="units"></mat-slider>
                                            <span><input #matFontInp [(ngModel)]="_style.font_size.value"
                                                    (blur)="_style.fontSizeChange(matFontInp.value)"
                                                    (keydown)="matFontInp.value = _style.operateNumVal($event.key, matFontInp.value); $event.key == 'ArrowUp' || $event.key == 'ArrowDown' ? _style.fontSizeChange(matFontInp.value) : ''"
                                                    type="text" name="font_size"></span>
                                        </div>
                                    </div>
                                    <div class="kb-tab-head">Sub Text<strong style="margin-left: auto;">{{_style.button_subfont_size.value}}</strong></div>
                                    <div class="kb-tab-content">
                                        <div class="kb-rangeInp">
                                            <mat-slider #matSubFontSlider thumbLabel [(ngModel)]="_style.button_subfont_sizeRange.value"
                                                [displayWith]="_style.formatLabel" tickInterval="0"
                                                (ngModelChange)="_style.button_subfont_size.value = matSubFontSlider.value+_style.button_subfont_sizeRange.type"
                                                step="1" min="0" [max]="_style.button_subfont_sizeRange.max" class="slider"
                                                aria-label="units"></mat-slider>
                                        </div>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 3" (opened)="_general.setExpPanelStep(3)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Font Family
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-font"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <mat-select [(ngModel)]="_style.font_family">
                                            <mat-option *ngFor="let fft of _style.font_family_types" [value]="fft" [style.fontFamily]="fft">{{fft |
                                                titlecase}}</mat-option>
                                        </mat-select>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 4" (opened)="_general.setExpPanelStep(4)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Font Weight
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-bold"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <mat-select [(ngModel)]="_style.font_weight" [compareWith]="_style.compareOptValue">
                                            <mat-option *ngFor="let fwt of _style.font_weight_types" [value]="fwt" [style.fontWeight]="fwt.value">{{fwt.name |
                                                titlecase}}</mat-option>
                                        </mat-select>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 5" (opened)="_general.setExpPanelStep(5)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Font Style
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-italic"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <mat-select [(ngModel)]="_style.font_style">
                                            <mat-option *ngFor="let fst of _style.font_style_types" [value]="fst" [style.fontStyle]="fst">{{fst |
                                                titlecase}}</mat-option>
                                        </mat-select>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 6" (opened)="_general.setExpPanelStep(6)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Text Color
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-tint"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <color-material [(ngModel)]="_style.text_color" [color]="_style.text_color">
                                        </color-material>
                                        <ngx-colors ngx-colors-trigger matTooltip="Pick Color" matTooltipPosition="above"
                                        colorsAnimation="popup" [hideTextInput]="true" [(ngModel)]="_style.text_color">
                                        </ngx-colors>
                                        <color-circle [(ngModel)]="_style.text_color" [color]="_style.text_color">
                                        </color-circle>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 7" (opened)="_general.setExpPanelStep(7)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Text Alignment
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-arrows-alt-h"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <div class="kb-align-btn-group">
                                            <span (click)="_style.text_align = 'left'" [class]="_style.text_align == 'left' ? 'kb-active-brd' : ''"
                                                class="kb-align-btn" matTooltip="Left" matTooltipPosition="above"><i class="fas fa-align-left"></i></span>
                                            <span (click)="_style.text_align = 'center'" [class]="_style.text_align == 'center' ? 'kb-active-brd' : ''"
                                                class="kb-align-btn" matTooltip="Center" matTooltipPosition="above"><i class="fas fa-align-center"></i></span>
                                            <span (click)="_style.text_align = 'right'" [class]="_style.text_align == 'right' ? 'kb-active-brd' : ''"
                                                class="kb-align-btn" matTooltip="Right" matTooltipPosition="above"><i class="fas fa-align-right"></i></span>
                                            <span (click)="_style.text_align = 'justify'" [class]="_style.text_align == 'justify' ? 'kb-active-brd' : ''"
                                                class="kb-align-btn" matTooltip="Justify" matTooltipPosition="above"><i class="fas fa-align-justify"></i></span>
                                        </div>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 8" (opened)="_general.setExpPanelStep(8)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Text Transform
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-font"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <mat-select [(ngModel)]="_style.text_transform">
                                            <mat-option *ngFor="let ttt of _style.text_transform_types" [value]="ttt" [style.textTransform]="ttt">{{ttt |
                                                titlecase}}</mat-option>
                                        </mat-select>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 9" (opened)="_general.setExpPanelStep(9)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Line Height
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-text-height"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <div class="kb-rangeInp">
                                            <mat-slider #matLineHeightSlider thumbLabel [(ngModel)]="_style.line_heightRange.value"
                                                [displayWith]="_style.formatLabel" tickInterval="0"
                                                (ngModelChange)="_style.line_height.value = matLineHeightSlider.value+_style.line_heightRange.type"
                                                step="1" min="0" [max]="_style.line_heightRange.max" class="slider"
                                                aria-label="units"></mat-slider>
                                            <span><input #matLineHeightInp [(ngModel)]="_style.line_height.value"
                                                    (blur)="_style.lineHeightChange(matLineHeightInp.value)"
                                                    (keydown)="matLineHeightInp.value = _style.operateNumVal($event.key, matLineHeightInp.value); $event.key == 'ArrowUp' || $event.key == 'ArrowDown' ? _style.lineHeightChange(matLineHeightInp.value) : ''"
                                                    type="text" name="line_height"></span>
                                        </div>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                                <mat-expansion-panel [expanded]="_general.expPanelStep === 10" (opened)="_general.setExpPanelStep(10)" hideToggle>
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                        Letter Spacing
                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <i class="fas fa-text-height"></i>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <div class="kb-tab-content">
                                        <div class="kb-rangeInp">
                                            <mat-slider #matLetterSpacingSlider thumbLabel [(ngModel)]="_style.letter_spacingRange.value"
                                                [displayWith]="_style.formatLabel" tickInterval="0"
                                                (ngModelChange)="_style.letter_spacing.value = matLetterSpacingSlider.value+_style.letter_spacingRange.type"
                                                step="1" [min]="_style.letter_spacingRange.min" [max]="_style.letter_spacingRange.max" class="slider"
                                                aria-label="units"></mat-slider>
                                            <span><input #matLetterSpacingInp [(ngModel)]="_style.letter_spacing.value"
                                                    (blur)="_style.letterSpacingChange(matLetterSpacingInp.value)"
                                                    (keydown)="matLetterSpacingInp.value = _style.operateNumVal($event.key, matLetterSpacingInp.value); $event.key == 'ArrowUp' || $event.key == 'ArrowDown' ? _style.letterSpacingChange(matLetterSpacingInp.value) : ''"
                                                    type="text" name="letter_spacing"></span>
                                        </div>
                                    </div>
                                    <mat-action-row>
                                        <button mat-button color="primary" (click)="_general.prevExpPanelStep()">Previous</button>
                                        <button mat-button color="accent" (click)="_general.nextExpPanelStep()">Next</button>
                                    </mat-action-row>
                                </mat-expansion-panel>
                            </mat-accordion>
                        </div>
                        <!-- button -->
                    </mat-tab>
                    <mat-tab label="Spacing">
                        <div *ngIf="_general.selectedBlock.type != 'column'" class="kb-inner-tab-component">
                            <div class="kb-tab-head">Margin</div>
                            <div class="kb-tab-content">
                                <span><input (blur)="_style.marginUpdate(_style.margin)"
                                        [(ngModel)]="_style.margin.top" type="text" name="top-margin"
                                        (keydown)="_style.margin.top = _style.operateNumVal($event.key, _style.margin.top)"><label
                                        for="top-margin">Top</label></span>
                                <span
                                    (click)="_style.m_link.tb = !_style.m_link.tb; _style.m_link.a = false; _style.marginUpdate(_style.margin)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.m_link.tb ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input *ngIf="_style.m_link.tb; else mtbtoggle"
                                        (blur)="_style.marginUpdate(_style.margin)" [(ngModel)]="_style.margin.top"
                                        type="text" name="bottom-margin"
                                        (keydown)="_style.margin.top = _style.operateNumVal($event.key, _style.margin.top)">
                                    <ng-template #mtbtoggle><input (blur)="_style.marginUpdate(_style.margin)"
                                            [(ngModel)]="_style.margin.bottom" type="text" name="bottom-margin"
                                            (keydown)="_style.margin.bottom = _style.operateNumVal($event.key, _style.margin.bottom)">
                                    </ng-template>
                                    <label for="bottom-margin">Bottom</label>
                                </span>
                                <span
                                    (click)="_style.m_link.a = !_style.m_link.a; _style.m_link.tb = _style.m_link.a; _style.m_link.lr = _style.m_link.a; _style.marginUpdate(_style.margin)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.m_link.a ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input *ngIf="_style.m_link.a else mtltoggle"
                                        (blur)="_style.marginUpdate(_style.margin)" [(ngModel)]="_style.margin.top"
                                        type="text" name="left-margin"
                                        (keydown)="_style.margin.top = _style.operateNumVal($event.key, _style.margin.top)">
                                    <ng-template #mtltoggle><input (blur)="_style.marginUpdate(_style.margin)"
                                            [(ngModel)]="_style.margin.left" type="text" name="left-margin"
                                            (keydown)="_style.margin.left = _style.operateNumVal($event.key, _style.margin.left)">
                                    </ng-template>
                                    <label for="left-margin">Left</label>
                                </span>
                                <span
                                    (click)="_style.m_link.lr = !_style.m_link.lr; _style.m_link.a = false; _style.marginUpdate(_style.margin)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.m_link.lr ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input *ngIf="_style.m_link.a" (blur)="_style.marginUpdate(_style.margin)"
                                        [(ngModel)]="_style.margin.top" type="text" name="right-margin"
                                        (keydown)="_style.margin.top = _style.operateNumVal($event.key, _style.margin.top)">
                                    <input *ngIf="_style.m_link.lr && !_style.m_link.a"
                                        (blur)="_style.marginUpdate(_style.margin)" [(ngModel)]="_style.margin.left"
                                        type="text" name="right-margin"
                                        (keydown)="_style.margin.left = _style.operateNumVal($event.key, _style.margin.left)">
                                    <input *ngIf="!_style.m_link.lr" (blur)="_style.marginUpdate(_style.margin)"
                                        [(ngModel)]="_style.margin.right" type="text" name="right-margin"
                                        (keydown)="_style.margin.right = _style.operateNumVal($event.key, _style.margin.right)">
                                    <label for="right-margin">Right</label></span>
                            </div>
                        </div>
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Padding</div>
                            <div class="kb-tab-content">
                                <span><input (blur)="_style.paddingUpdate(_style.padding)"
                                        [(ngModel)]="_style.padding.top" type="text" name="top-padding"
                                        (keydown)="_style.padding.top = _style.operateNumVal($event.key, _style.padding.top)"><label
                                        for="top-padding">Top</label></span>
                                <span
                                    (click)="_style.p_link.tb = !_style.p_link.tb; _style.p_link.a = false; _style.paddingUpdate(_style.padding)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.p_link.tb ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input (blur)="_style.paddingUpdate(_style.padding)"
                                        *ngIf="_style.p_link.tb; else mtbtoggle" [(ngModel)]="_style.padding.top"
                                        type="text" name="bottom-padding"
                                        (keydown)="_style.padding.top = _style.operateNumVal($event.key, _style.padding.top)">
                                    <ng-template #mtbtoggle><input (blur)="_style.paddingUpdate(_style.padding)"
                                            [(ngModel)]="_style.padding.bottom" type="text" name="bottom-padding"
                                            (keydown)="_style.padding.bottom = _style.operateNumVal($event.key, _style.padding.bottom)">
                                    </ng-template>
                                    <label for="bottom-padding">Bottom</label>
                                </span>
                                <span
                                    (click)="_style.p_link.a = !_style.p_link.a; _style.p_link.tb = _style.p_link.a; _style.p_link.lr = _style.p_link.a; _style.paddingUpdate(_style.padding)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.p_link.a ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input (blur)="_style.paddingUpdate(_style.padding)"
                                        *ngIf="_style.p_link.a else mtltoggle" [(ngModel)]="_style.padding.top"
                                        type="text" name="left-padding"
                                        (keydown)="_style.padding.top = _style.operateNumVal($event.key, _style.padding.top)">
                                    <ng-template #mtltoggle><input (blur)="_style.paddingUpdate(_style.padding)"
                                            [(ngModel)]="_style.padding.left" type="text" name="left-padding"
                                            (keydown)="_style.padding.left = _style.operateNumVal($event.key, _style.padding.left)">
                                    </ng-template>
                                    <label for="left-padding">Left</label>
                                </span>
                                <span
                                    (click)="_style.p_link.lr = !_style.p_link.lr; _style.p_link.a = false; _style.paddingUpdate(_style.padding)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.p_link.lr ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input *ngIf="_style.p_link.a" (blur)="_style.paddingUpdate(_style.padding)"
                                        [(ngModel)]="_style.padding.top" type="text" name="right-padding"
                                        (keydown)="_style.padding.top = _style.operateNumVal($event.key, _style.padding.top)">
                                    <input *ngIf="_style.p_link.lr && !_style.p_link.a"
                                        (blur)="_style.paddingUpdate(_style.padding)" [(ngModel)]="_style.padding.left"
                                        type="text" name="right-padding"
                                        (keydown)="_style.padding.left = _style.operateNumVal($event.key, _style.padding.left)">
                                    <input *ngIf="!_style.p_link.lr" (blur)="_style.paddingUpdate(_style.padding)"
                                        [(ngModel)]="_style.padding.right" type="text" name="right-padding"
                                        (keydown)="_style.padding.right = _style.operateNumVal($event.key, _style.padding.right)">
                                    <label for="right-padding">Right</label></span>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab label="Sizing"  *ngIf="_general.selectedBlock.type != 'column'">
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Width
                                <span class="kb-align-btn-group kb-wh-btn-group">
                                    <span matTooltip="100%"
                                    matTooltipPosition="above"
                                    (click)="_style.width.value = '100%'; _style.widthRange = {value: 100, max: 100, type: '%'};"
                                    class="kb-align-btn icon-border" [class]="_style.width.value == '100%' ? 'kb-active-brd' :''">
                                    <i class="fa fa-arrow-left"></i>
                                    <i class="fa fa-arrow-right"></i>
                                    </span>
                                    <span matTooltip="Auto"
                                    matTooltipPosition="above"
                                    (click)="_style.width.value = 'auto'; _style.widthRange = {value: 100, max: 100, type: '%'};"
                                    class="kb-align-btn icon-border" [class]="_style.width.value == 'auto' ? 'kb-active-brd' : ''">
                                    <i class="fa fa-arrow-right"></i>
                                    <i class="fa fa-arrow-left"></i>
                                    </span>
                                </span>
                            </div>
                            <div class="kb-tab-content">
                                <div class="kb-rangeInp">
                                    <mat-slider #matWidthSlider thumbLabel [(ngModel)]="_style.widthRange.value"
                                        [displayWith]="_style.formatLabel" tickInterval="0"
                                        (ngModelChange)="_style.width.value = matWidthSlider.value+_style.widthRange.type"
                                        step="1" min="0" [max]="_style.widthRange.max" class="slider"
                                        aria-label="units"></mat-slider>
                                    <span><input #matWidthInp [(ngModel)]="_style.width.value"
                                            (blur)="_style.widthChange(matWidthInp.value)"
                                            (keydown)="matWidthInp.value = _style.operateNumVal($event.key, matWidthInp.value); $event.key == 'ArrowUp' || $event.key == 'ArrowDown' ? _style.widthChange(matWidthInp.value) : ''"
                                            type="text" name="width"></span>
                                </div>
                            </div>
                        </div>
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Height
                                <span class="kb-align-btn-group kb-wh-btn-group">
                                    <span matTooltip="100%"
                                    matTooltipPosition="above"
                                    (click)="_style.height.value = '100%'; _style.heightRange = {value: 100, max: 100, type: '%'};"
                                    class="kb-align-btn icon-border" [class]="_style.height.value == '100%' ? 'kb-active-brd' : ''">
                                    <i class="fa fa-arrow-left"></i>
                                    <i class="fa fa-arrow-right"></i>
                                    </span>
                                    <span matTooltip="Auto"
                                    matTooltipPosition="above"
                                    (click)="_style.height.value = 'auto'; _style.heightRange = {value: 100, max: 100, type: '%'};"
                                    class="kb-align-btn icon-border" [class]="_style.height.value == 'auto' ? 'kb-active-brd' : ''">
                                    <i class="fa fa-arrow-right"></i>
                                    <i class="fa fa-arrow-left"></i>
                                    </span>
                                </span>
                            </div>
                            <div class="kb-tab-content">
                                <div class="kb-rangeInp">
                                    <mat-slider #matHeightSlider thumbLabel [(ngModel)]="_style.heightRange.value"
                                        [displayWith]="_style.formatLabel" tickInterval="0"
                                        (ngModelChange)="_style.height.value = matHeightSlider.value+_style.heightRange.type"
                                        step="1" min="0" [max]="_style.heightRange.max" class="slider"
                                        aria-label="units"></mat-slider>
                                    <span><input #matHeightInp [(ngModel)]="_style.height.value"
                                            (blur)="_style.heightChange(matHeightInp.value)"
                                            (keydown)="matHeightInp.value = _style.operateNumVal($event.key, matHeightInp.value); $event.key == 'ArrowUp' || $event.key == 'ArrowDown' ? _style.heightChange(matHeightInp.value) : ''"
                                            type="text" name="height"></span>
                                </div>
                            </div>
                        </div>
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Alignment<span matTooltip="Auto Align"
                                    matTooltipPosition="above"
                                    (click)="_style.iconMotion($event.target); _style.blockAlign = ''"
                                    class="kb-reverse-icon" [class]="_style.blockAlign ? '' : 'active'"><i
                                        class="fa fa-sync"></i></span></div>
                            <div class="kb-tab-content">
                                <div class="kb-align-btn-group">
                                    <span (click)="_style.setBlockAlign('left')"
                                        [class]="_style.blockAlign == 'left' ? 'kb-active-brd' : ''"
                                        class="kb-align-btn icon-border" matTooltip="Left" matTooltipPosition="below"><i
                                            class="fa fa-arrow-left"></i></span>
                                    <span (click)="_style.setBlockAlign('center')"
                                        [class]="_style.blockAlign == 'center' ? 'kb-active-brd' : ''"
                                        class="kb-align-btn icon-border" matTooltip="Center" matTooltipPosition="below"><i
                                            class="fa fa-arrow-right"></i><i class="fa fa-arrow-left"></i></span>
                                    <span (click)="_style.setBlockAlign('right')"
                                        [class]="_style.blockAlign == 'right' ? 'kb-active-brd' : ''"
                                        class="kb-align-btn icon-border" matTooltip="Right" matTooltipPosition="below"><i
                                            class="fa fa-arrow-right"></i></span>
                                </div>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab label="Background">
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Background Type</div>
                            <mat-button-toggle-group name="backgroundType" [(ngModel)]="_style.background_type"
                                aria-label="Select Background Type">
                                <mat-button-toggle value="color"><i class="fa fa-paint-brush"></i>Colors
                                </mat-button-toggle>
                                <mat-button-toggle value="image"><i class="fa fa-image"></i>Image</mat-button-toggle>
                                <mat-button-toggle value="gradient"><i class="fa fa-palette"></i>Gradient
                                </mat-button-toggle>
                            </mat-button-toggle-group>
                        </div>
                        <div [ngSwitch]="_style.background_type">
                            <div *ngSwitchCase="'color'">
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Background Color</div>
                                    <div class="kb-tab-contnent kb-transparent-bg">
                                        <div class="kb-dummy-bg" [style.backgroundColor]="_style.background_color">
                                            <div class="kb-selected-color">
                                                <ngx-colors ngx-colors-trigger matTooltip="Pick Color"
                                                    matTooltipPosition="above" colorsAnimation="popup"
                                                    [hideTextInput]="true" [(ngModel)]="_style.background_color">
                                                </ngx-colors>
                                                <color-material [(ngModel)]="_style.background_color"
                                                    [color]="_style.background_color"></color-material>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngSwitchCase="'image'">
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Background Image</div>
                                    <div class="kb-tab-content">
                                        <div (click)="openImgSelBox()"
                                            [class]="!_style.background_image.name ? 'kb-noImgSel' : ''"
                                            class="kb-dummy-bg">
                                            <img *ngIf="_style.background_image.name else bgimgno"
                                                [src]="_style.background_image.name" width="auto">
                                            <ng-template #bgimgno><span class="kb-ispan-add" matTooltip="Add Image"
                                                    matTooltipPosition="above"><i class="fa fa-plus"></i></span>
                                            </ng-template>
                                        </div>
                                    </div>
                                </div>
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Size</div>
                                    <div class="kb-tab-content">
                                        <mat-select [(ngModel)]="_style.background_image.size">
                                            <mat-option *ngFor="let bimgsz of _style.background_image_sizes"
                                                [value]="bimgsz">{{bimgsz |
                                                titlecase}}</mat-option>
                                        </mat-select>
                                    </div>
                                </div>
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Position</div>
                                    <div class="kb-tab-content">
                                        <mat-select [(ngModel)]="_style.background_image.position">
                                            <mat-option *ngFor="let bgimgpos of _style.background_image_positions"
                                                [value]="bgimgpos">{{bgimgpos |
                                                titlecase}}</mat-option>
                                        </mat-select>
                                    </div>
                                </div>
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Repeat</div>
                                    <div class="kb-tab-content">
                                        <mat-select [(ngModel)]="_style.background_image.repeat"
                                        [compareWith]="_style.compareOptValue">
                                            <mat-option *ngFor="let bgimgrep of _style.background_image_repeats"
                                                [value]="bgimgrep">{{bgimgrep.name |
                                                titlecase}}</mat-option>
                                        </mat-select>
                                    </div>
                                </div>
                            </div>
                            <div *ngSwitchCase="'gradient'">
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Background Gradient
                                        <span matTooltip="Reverse" matTooltipPosition="above"
                                            (click)="_style.bgGradColorSwitch($event)" class="kb-reverse-icon active"><i
                                                class="fa fa-sync"></i></span>
                                    </div>
                                    <div class="kb-transparent-bg">
                                        <div class="kb-dummy-bg"
                                            [style.backgroundImage]="_style.getBackgroundGradient()">
                                            <div class="kb-gradient-color-selection">
                                                <div class="kb-gradient-selected-color">
                                                    <ngx-colors ngx-colors-trigger matTooltip="Pick Start Color"
                                                        matTooltipPosition="above" colorsAnimation="popup"
                                                        [hideTextInput]="true"
                                                        [(ngModel)]="_style.background_gradient.start"></ngx-colors>
                                                    <color-material [(ngModel)]="_style.background_gradient.start"
                                                        [color]="_style.background_gradient.start"></color-material>
                                                </div>
                                                <div class="kb-gradient-selected-color">
                                                    <ngx-colors ngx-colors-trigger matTooltip="Pick End Color"
                                                        matTooltipPosition="above" colorsAnimation="popup"
                                                        [hideTextInput]="true"
                                                        [(ngModel)]="_style.background_gradient.end">
                                                    </ngx-colors>
                                                    <color-material [(ngModel)]="_style.background_gradient.end"
                                                        [color]="_style.background_gradient.end"></color-material>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Gradient Type</div>
                                    <div class="kb-tab-content">
                                        <mat-select [(ngModel)]="_style.background_gradient.type">
                                            <mat-option *ngFor="let bggradtype of _style.background_gradient_types"
                                                [value]="bggradtype">{{bggradtype |
                                                titlecase}}</mat-option>
                                        </mat-select>
                                    </div>
                                </div>
                                <div *ngIf="_style.background_gradient.type == 'linear' else forBgGradRadial"
                                    class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Gradient Direction
                                        <span matTooltip="Reverse" matTooltipPosition="above"
                                            (click)="_style.background_gradient.direction = _style.reverseValue(gradDirSlider.value, $event)"
                                            [class]="_style.background_gradient.direction < 0 ? 'active' : ''"
                                            class="kb-reverse-icon"><i class="fa fa-sync"></i></span>
                                        <strong
                                            style="margin-left: auto;">{{_style.background_gradient.direction}}deg</strong>
                                    </div>
                                    <div class="kb-tab-content">
                                        <div class="kb-rangeInp">
                                            <mat-slider #gradDirSlider thumbLabel
                                                [(ngModel)]="_style.background_gradient.direction"
                                                [displayWith]="_style.formatLabel" tickInterval="0" step="1" min="-360"
                                                max="360" class="slider" aria-label="units"></mat-slider>
                                        </div>
                                    </div>
                                </div>
                                <ng-template #forBgGradRadial>
                                    <div class="kb-inner-tab-component">
                                        <div class="kb-tab-head">Radial Direction</div>
                                        <div class="kb-tab-content">
                                            <mat-select [(ngModel)]="_style.background_gradient.radial_direction">
                                                <mat-option
                                                    *ngFor="let bgraddir of _style.background_gradient_radial_directions"
                                                    [value]="bgraddir">{{bgraddir |
                                                    titlecase}}</mat-option>
                                            </mat-select>
                                        </div>
                                    </div>
                                </ng-template>
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">Start Position
                                        <span matTooltip="Reverse" matTooltipPosition="above"
                                            (click)="_style.background_gradient.startPosition = _style.reverseValue(_style.background_gradient.startPosition, $event)"
                                            [class]="_style.background_gradient.startPosition < 0 ? 'active' : ''"
                                            class="kb-reverse-icon"><i class="fa fa-sync"></i></span>
                                        <strong
                                            style="margin-left: auto;">{{_style.background_gradient.startPosition}}%</strong>
                                    </div>
                                    <div class="kb-tab-content">
                                        <div class="kb-rangeInp">
                                            <mat-slider thumbLabel
                                                [(ngModel)]="_style.background_gradient.startPosition"
                                                [displayWith]="_style.formatLabel" tickInterval="0" step="1" min="-100"
                                                max="100" class="slider" aria-label="units">
                                            </mat-slider>
                                        </div>
                                    </div>
                                </div>
                                <div class="kb-inner-tab-component">
                                    <div class="kb-tab-head">End Position
                                        <span matTooltip="Reverse" matTooltipPosition="above"
                                            (click)="_style.background_gradient.endPosition = _style.reverseValue(_style.background_gradient.endPosition, $event)"
                                            [class]="_style.background_gradient.endPosition < 0 ? 'active' : ''"
                                            class="kb-reverse-icon"><i class="fa fa-sync"></i></span>
                                        <strong
                                            style="margin-left: auto;">{{_style.background_gradient.endPosition}}%</strong>
                                    </div>
                                    <div class="kb-tab-content">
                                        <div class="kb-rangeInp">
                                            <mat-slider thumbLabel [(ngModel)]="_style.background_gradient.endPosition"
                                                [displayWith]="_style.formatLabel" tickInterval="0" step="1" min="-100"
                                                max="100" class="slider" aria-label="units">
                                            </mat-slider>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab label="Border">
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Border Width</div>
                            <div class="kb-tab-content">
                                <span><input (blur)="_style.borderUpdate(_style.border)" [(ngModel)]="_style.border.top"
                                        type="text" name="top-border"
                                        (keydown)="_style.border.top = _style.operateNumVal($event.key, _style.border.top)"><label
                                        for="top-border">Top</label></span>
                                <span
                                    (click)="_style.b_link.tb = !_style.b_link.tb; _style.b_link.a = false; _style.borderUpdate(_style.border)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.b_link.tb ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input (blur)="_style.borderUpdate(_style.border)"
                                        *ngIf="_style.b_link.tb else btbtoggle" [(ngModel)]="_style.border.top"
                                        type="text" name="bottom-border"
                                        (keydown)="_style.border.top = _style.operateNumVal($event.key, _style.border.top)">
                                    <ng-template #btbtoggle><input (blur)="_style.borderUpdate(_style.border)"
                                            *ngIf="!_style.b_link.tb" [(ngModel)]="_style.border.bottom" type="text"
                                            name="bottom-border"
                                            (keydown)="_style.border.bottom = _style.operateNumVal($event.key, _style.border.bottom)">
                                    </ng-template>
                                    <label for="bottom-border">Bottom</label>
                                </span>
                                <span
                                    (click)="_style.b_link.a = !_style.b_link.a; _style.b_link.tb = _style.b_link.a; _style.b_link.lr = _style.b_link.a; _style.borderUpdate(_style.border)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.b_link.a ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input *ngIf="_style.b_link.a else bltoggle"
                                        (blur)="_style.borderUpdate(_style.border)" [(ngModel)]="_style.border.top"
                                        type="text" name="left-border"
                                        (keydown)="_style.border.top = _style.operateNumVal($event.key, _style.border.top)">
                                    <ng-template #bltoggle><input (blur)="_style.borderUpdate(_style.border)"
                                            [(ngModel)]="_style.border.left" type="text" name="left-border"
                                            (keydown)="_style.border.left = _style.operateNumVal($event.key, _style.border.left)">
                                    </ng-template><label for="left-border">Left</label>
                                </span>
                                <span
                                    (click)="_style.b_link.lr = !_style.b_link.lr; _style.b_link.a = false; _style.borderUpdate(_style.border)"
                                    class="kb-linkBtw">
                                    <svg [class]="!_style.b_link.lr ? 'deactive' : ''" viewBox="0 0 28 28"
                                        preserveAspectRatio="xMidYMid meet" shape-rendering="geometricPrecision">
                                        <g>
                                            <path
                                                d="M8 14a1 1 0 0 1 0 2h-.5A2.5 2.5 0 0 1 5 13.5v-2A2.5 2.5 0 0 1 7.5 9h8a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5H15a1 1 0 0 1 0-2h.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5z"
                                                fill-rule="evenodd"></path>
                                            <path
                                                d="M20 14a1 1 0 0 1 0-2h.5a2.5 2.5 0 0 1 2.5 2.5v2a2.5 2.5 0 0 1-2.5 2.5h-8a2.5 2.5 0 0 1-2.5-2.5v-2a2.5 2.5 0 0 1 2.5-2.5h.5a1 1 0 0 1 0 2h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"
                                                fill-rule="evenodd"></path>
                                        </g>
                                    </svg>
                                </span>
                                <span>
                                    <input *ngIf="_style.b_link.a" (blur)="_style.borderUpdate(_style.border)"
                                        [(ngModel)]="_style.border.top" type="text" name="right-border"
                                        (keydown)="_style.border.top = _style.operateNumVal($event.key, _style.border.top)">
                                    <input *ngIf="_style.b_link.lr && !_style.b_link.a"
                                        (blur)="_style.borderUpdate(_style.border)" [(ngModel)]="_style.border.left"
                                        type="text" name="right-border"
                                        (keydown)="_style.border.left = _style.operateNumVal($event.key, _style.border.left)">
                                    <input *ngIf="!_style.b_link.lr" (blur)="_style.borderUpdate(_style.border)"
                                        [(ngModel)]="_style.border.right" type="text" name="right-border"
                                        (keydown)="_style.border.right = _style.operateNumVal($event.key, _style.border.right)"><label
                                        for="right-border">Right</label></span>
                            </div>
                        </div>
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Border Style</div>
                            <div class="kb-tab-content">
                                <mat-select [(ngModel)]="_style.border_style">
                                    <mat-option *ngFor="let bst of _style.border_style_types" [value]="bst">{{bst |
                                        titlecase}}</mat-option>
                                </mat-select>
                            </div>
                        </div>
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Border Radius</div>
                            <div class="kb-tab-content kb-tab-border-radius-group">
                                <div class="kb-tab-border-radius">
                                    <span><input [(ngModel)]="_style.border_radius.top_left" type="text"
                                            (blur)="_style.borderRadiusUpdate(_style.border_radius)"
                                            name="top-left-border"
                                            (keydown)="_style.border_radius.top_left = _style.operateNumVal($event.key, _style.border_radius.top_left)"></span>
                                    <span><input *ngIf="_style.br_link else btratoggle"
                                            [(ngModel)]="_style.border_radius.top_left"
                                            (blur)="_style.borderRadiusUpdate(_style.border_radius)" type="text"
                                            name="top-right-border"
                                            (keydown)="_style.border_radius.top_left = _style.operateNumVal($event.key, _style.border_radius.top_left)">
                                        <ng-template #btratoggle><input [(ngModel)]="_style.border_radius.top_right"
                                                type="text" (blur)="_style.borderRadiusUpdate(_style.border_radius)"
                                                name="top-right-border"
                                                (keydown)="_style.border_radius.top_right = _style.operateNumVal($event.key, _style.border_radius.top_right)">
                                        </ng-template>
                                    </span>
                                </div>
                                <div class="kb-border-radius-demo" [ngStyle]="_style.demoBorder()">
                                    <span
                                        (click)="_style.br_link = !_style.br_link; _style.borderRadiusUpdate(_style.border_radius)"
                                        class="kb-linkBtw"><svg [class]="!_style.br_link ? 'deactive' : ''"
                                            viewBox="0 0 28 28" preserveAspectRatio="xMidYMid meet"
                                            shape-rendering="geometricPrecision">
                                            <g>
                                                <path
                                                    d="M14.71 17.71a3 3 0 0 1-2.12-.88l-.71-.71a1 1 0 0 1 1.41-1.41l.71.71a1 1 0 0 0 1.41 0l5-4.95a1 1 0 0 0 0-1.41l-1.46-1.42a1 1 0 0 0-1.41 0L16.1 9.07a1 1 0 0 1-1.41-1.41l1.43-1.43a3.07 3.07 0 0 1 4.24 0l1.41 1.41a3 3 0 0 1 0 4.24l-5 4.95a3 3 0 0 1-2.06.88z">
                                                </path>
                                                <path
                                                    d="M9.76 22.66a3 3 0 0 1-2.12-.88l-1.42-1.42a3 3 0 0 1 0-4.24l5-4.95a3.07 3.07 0 0 1 4.24 0l.71.71a1 1 0 0 1-1.41 1.41l-.76-.7a1 1 0 0 0-1.41 0l-5 4.95a1 1 0 0 0 0 1.41L9 20.36a1 1 0 0 0 1.41 0L11.82 19a1 1 0 0 1 1.41 1.41l-1.36 1.36a3 3 0 0 1-2.11.89z">
                                                </path>
                                            </g>
                                        </svg></span>
                                </div>
                                <div class="kb-tab-border-radius">
                                    <span><input *ngIf="_style.br_link else bblatoggle"
                                            [(ngModel)]="_style.border_radius.top_left" type="text"
                                            (ngModelChange)="_style.borderRadiusUpdate(_style.border_radius)"
                                            (blur)="_style.borderRadiusUpdate(_style.border_radius)"
                                            name="bottom-left-border"
                                            (keydown)="_style.border_radius.top_left = _style.operateNumVal($event.key, _style.border_radius.top_left);">
                                        <ng-template #bblatoggle><input
                                                (blur)="_style.borderRadiusUpdate(_style.border_radius)"
                                                [(ngModel)]="_style.border_radius.bottom_left" type="text"
                                                name="bottom-left-border"
                                                (keydown)="_style.border_radius.bottom_left = _style.operateNumVal($event.key, _style.border_radius.bottom_left);">
                                        </ng-template>
                                    </span>
                                    <span><input *ngIf="_style.br_link else btlatoggle"
                                            [(ngModel)]="_style.border_radius.top_left" type="text"
                                            (blur)="_style.borderRadiusUpdate(_style.border_radius)"
                                            name="bottom-right-border"
                                            (keydown)="_style.border_radius.top_left = _style.operateNumVal($event.key, _style.border_radius.top_left);">
                                        <ng-template #btlatoggle><input
                                                (blur)="_style.borderRadiusUpdate(_style.border_radius)"
                                                [(ngModel)]="_style.border_radius.bottom_right" type="text"
                                                name="bottom-right-border"
                                                (keydown)="_style.border_radius.bottom_right = _style.operateNumVal($event.key, _style.border_radius.bottom_right);">
                                        </ng-template>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Border Color</div>
                            <div class="kb-tab-content kb-color-picker">
                                <color-material [(ngModel)]="_style.border_color" [color]="_style.border_color">
                                </color-material>
                                <ngx-colors ngx-colors-trigger matTooltip="Pick Color" matTooltipPosition="above"
                                colorsAnimation="popup" [hideTextInput]="true" [(ngModel)]="_style.border_color">
                                </ngx-colors>
                                <color-circle [(ngModel)]="_style.border_color" [color]="_style.border_color">
                                </color-circle>
                            </div>
                        </div>
                    </mat-tab>
                    <mat-tab label="Advanced">
                        <div class="kb-inner-tab-component">
                            <div class="kb-tab-head">Z Index
                                <span matTooltip="Reverse" matTooltipPosition="above"
                                    (click)="_style.zindex = _style.reverseValue(_style.zindex, $event)"
                                    [class]="_style.zindex < 0 ? 'active' : ''" class="kb-reverse-icon"><i
                                        class="fa fa-sync"></i></span>
                                <strong style="margin-left: auto;">{{_style.zindex == 0 ? 'Auto' :
                                    _style.zindex}}</strong>
                            </div>
                            <div class="kb-tab-content">
                                <div class="kb-rangeInp">
                                    <mat-slider thumbLabel [(ngModel)]="_style.zindex"
                                        [displayWith]="_style.formatLabel" tickInterval="0" step="1" min="-999"
                                        max="999" class="slider" aria-label="units">
                                    </mat-slider>
                                </div>
                            </div>
                        </div>
                    </mat-tab>
                </mat-tab-group>
                <div class="kb-selection-btn-group">
                    <button type="button" mat-stroked-button
                        (click)="overlayRefDetach(false); _general.openSnackBar('Changes discard','Done')"
                        class="kb-btn kb-btn-secondry kb-selection-btn"><span><i
                                class="fa fa-times"></i>Discard</span></button>
                    <button type="button" mat-stroked-button
                        (click)="overlayRefDetach(true);"
                        class="kb-btn kb-btn-primary kb-selection-btn"><span><i
                                class="fa fa-check"></i>Apply</span></button>
                </div>
            </div>
            <!-- block setting -->
        </div>
    </div>
</ng-template>