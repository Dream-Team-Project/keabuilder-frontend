<div class="bw-login container-fluid">
  <div class="row">
    <div class="pt-3 bw-colside ml-4 mt-4">
      <div class="login-form">
        <img src="./assets/images/logo/kblogo.svg">
        <h5>Sign Up To Admin</h5>
        <p>Enter your details to register to your account:</p>

         <!-- register -->
          <form  name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate class="pl-2">
              <div class="bu-forregister">

                <!-- <input type="text" class="form-control mb-3" placeholder="Username..." name="username" [(ngModel)]="form.username" required minlength="3"
                maxlength="20" #username="ngModel" />
                <div class="alert alert-danger" *ngIf="username.errors && f.submitted">
                  <div *ngIf="username.errors['required']"><i class="fas fa-exclamation-triangle"></i> Username is required</div>
                  <div *ngIf="username.errors['minlength']">
                    <i class="fas fa-exclamation-triangle"></i> Username must be at least 3 characters
                  </div>
                  <div *ngIf="username.errors['maxlength']">
                    <i class="fas fa-exclamation-triangle"></i> Username must be at most 20 characters
                  </div>
                </div> -->

                <mat-form-field class="example-full-width" appearance="fill">
                  <mat-label>Username</mat-label>
                  <input type="text" matInput placeholder="Ex. User" [formControl]="userFormControl" required minlength="3" maxlength="20" [(ngModel)]="form.username" >
                  <mat-error *ngIf="userFormControl.hasError('required')">
                    Username is <strong>required</strong>
                  </mat-error>
                  <mat-error *ngIf="userFormControl.hasError('minlength')">
                    Username must be at least <strong>3</strong> characters
                  </mat-error>
                  <mat-error *ngIf="userFormControl.hasError('maxlength')">
                    Username must be at most <strong>20</strong> characters
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="example-full-width" appearance="fill">
                  <mat-label>Email</mat-label>
                  <input type="email" matInput [formControl]="emailFormControl" placeholder="Ex. pat@example.com" required [(ngModel)]="form.email">
                  <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                    Please enter a valid email address
                  </mat-error>
                  <mat-error *ngIf="emailFormControl.hasError('required')">
                    Email is <strong>required</strong>
                  </mat-error>
                </mat-form-field>

                <!-- <input type="email" class="form-control mb-3" placeholder="Email..." name="email" [(ngModel)]="form.email" required #email="ngModel" />
                <div class="alert alert-danger" *ngIf="email.errors && f.submitted">
                  <div *ngIf="email.errors['required']"><i class="fas fa-exclamation-triangle"></i> Email is required</div>
                  <div *ngIf="email.errors['email']">
                    <i class="fas fa-exclamation-triangle"></i> Email must be a valid email address
                  </div>
                </div> -->

                <mat-form-field class="example-full-width" appearance="fill">
                  <mat-label>Password</mat-label>
                  <input type="password" matInput [formControl]="passwordFormControl" required minlength="6" [type]="hide ? 'password' : 'text'" [(ngModel)]="form.password">
                  <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide" class="ar-eyeicon">
                    <i class="fa fa-eye" [class]="hide ? 'fa-eye-slash' : 'fa-eye'" aria-hidden="true"></i>
                    <!-- <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon> -->
                  </button>
                  <mat-error *ngIf="passwordFormControl.hasError('required')">
                    Password is <strong>required</strong>
                  </mat-error>
                  <mat-error *ngIf="passwordFormControl.hasError('minlength')">
                    Password must be at least <strong>6</strong> characters
                  </mat-error>
                </mat-form-field>

                <!-- <input type="password" class="form-control mb-3" placeholder="Password..." name="password" [(ngModel)]="form.password" required minlength="6"
                  #password="ngModel" />
                <div class="alert alert-danger" *ngIf="password.errors && f.submitted">
                  <div *ngIf="password.errors['required']"><i class="fas fa-exclamation-triangle"></i> Password is required</div>
                  <div *ngIf="password.errors['minlength']">
                    <i class="fas fa-exclamation-triangle"></i> Password must be at least 6 characters
                  </div>
                </div> -->

                  <button mat-raised-button type="submit" class="mt-3">Register</button>

                  <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                    <i class="fas fa-exclamation-triangle"></i> Signup failed!<br />{{ errorMessage }}
                  </div>

                  <div class="mt-4">
                      <span class="txt-light">Have an account?</span>
                      <a mat-button [routerLink]="['/login']">Log In</a>
                  </div>
              </div>
          </form>
          
          <div class="alert alert-success" *ngIf="isSuccessful">
            Your registration is successful!
          </div>

      </div>
    </div>

    <div class="col-md-6">
      <div class="bw-container__bg" [style.backgroundImage]="bgImg"></div>
    </div>
  </div>
</div>